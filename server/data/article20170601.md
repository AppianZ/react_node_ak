é˜…è¯»æœ¬æ–‡ä¹‹å‰ï¼Œç¡®ä¿ä½ æœ‰ç¨å¾®çœ‹è¿‡[ calendar çš„æ•ˆæžœ ](https://github.com/AppianZ/calendar)å–”~

![gif0.](https://ohovav7hg.qnssl.com/calendar1.gif) 
 
* [ ç‚¹å‡»æŸ¥çœ‹githubï¼Œ æŸ¥çœ‹calendaræºç  ](https://github.com/AppianZ/calendar)
* https://github.com/AppianZ/calendar
* ä¹Ÿå¯ä»¥åœ¨ NPMä¸Šæœç´¢ [mob-calendar](https://www.npmjs.com/package/mob-calendar) æ‰¾åˆ°å®ƒã€‚
* https://www.npmjs.com/package/mob-calendar

## ä¸€ã€ ç¡®è®¤éœ€æ±‚
æƒ³åšä¸€ä¸ªæ—¥åŽ†æœ€ä¸»è¦çš„åŽŸå› ï¼Œå½“ç„¶è¿˜æ˜¯å› ä¸ºåœ¨å¼€å‘è¿‡ç¨‹ä¸­é¢‘ç¹çš„é‡åˆ°ã€‚è€Œä¸”å¯¹æ—¥åŽ†çš„éœ€æ±‚åˆæ˜¯å¥‡è‘©åˆ°ä¸è¡Œï¼Œå¸‚é¢ä¸Šçš„æ’ä»¶éƒ½æ»¡è¶³ä¸äº†æˆ‘ä»¬äº§å“çš„éœ€æ±‚ã€‚æ‰€ä»¥ï¼Œæˆ‘ä¸å¾—ä¸åŠ¨æ‰‹è‡ªå·±é€ ã€‚

> è¿™æ®µè¯ï¼Œå¥½åƒåœ¨é€ [ ä¸Šä¸€ä¸ªæ’ä»¶ - çº§è”é€‰æ‹©å™¨ ](https://github.com/AppianZ/multi-picker)çš„æ—¶å€™ä¹Ÿè¯´è¿‡
> å¤§å®¶å°±å½“æ— äº‹å‘ç”Ÿè¿‡(âŽâÌ´Ì›á´—âÌ´Ì›âŽ) 

é¦–è¦é—®é¢˜ä¾ç„¶æ˜¯å¤„ç†éœ€æ±‚ï¼š
### ç¬¬1ä¸ªé—®é¢˜ï¼šã€Žæ—¥åŽ†çš„å‡ºçŽ°åœºæ™¯æœ‰å“ªäº›ç‰¹ç‚¹ï¼Ÿã€
1. ç”¨æˆ·ä¸ç¡®å®šè‡ªå·±è¦é€‰æ‹©çš„æ—¶é—´ç‚¹æˆ–æ—¶é—´èŒƒå›´ï¼Œéœ€è¦ä¸€äº›åŸºæœ¬çš„æ—¶é—´å‚ç…§å•ä½ï¼Œæ¯”å¦‚â€œ**ä¸‹æ˜ŸæœŸä¸€**â€ã€â€œ**ä¸‹ä¸ªå‘¨æœ«**â€ã€‚
2. ç”¨æˆ·éœ€è¦æŸ¥çœ‹æŸä¸ªæ—¶é—´åŒºé—´ï¼Œä¹‹åŽå†æœ‰é€‰æ‹©æ€§çš„é€‰å–æ—¶é—´ç‚¹æˆ–æ—¶é—´èŒƒå›´ï¼Œæ¯”å¦‚â€œ**å°½å¯èƒ½é¿å¼€å‘¨æœ«çš„20å¤©ç¿˜ç­è¯·å‡è®¡åˆ’**â€ã€‚
3. ç”¨æˆ·éœ€è¦æŸ¥çœ‹æŸä¸ªæ—¶é—´åŒºé—´çš„è¡Œä¸ºè®°å½•ï¼Œæ¯”å¦‚â€œ**æŸ¥çœ‹è¿‡åŽ»å‡ å‘¨çš„æ‰“å¡æƒ…å†µ**â€

å½“å‡ºçŽ°ä»¥ä¸Šé—®é¢˜çš„æ—¶å€™ï¼Œæ—¥åŽ†çš„æ—¶é—´å®šä½ä¼˜åŠ¿å°±æ˜¾ç¤ºå‡ºæ¥äº†ã€‚

### ç¬¬2ä¸ªé—®é¢˜ï¼šã€Žæ—¥åŽ†ä¼šæœ‰å“ªäº›å¥‡è‘©éœ€æ±‚ï¼Ÿã€
1. æ—¥åŽ†å­˜åœ¨ç€ç‚¹å‡»äº‹ä»¶ï¼Œç‚¹å‡»äº‹ä»¶æ˜¯ **è·³è½¬äº‹ä»¶**  è¿˜æ˜¯  **é«˜äº®äº‹ä»¶** æ— æ³•é¢„çŸ¥ã€‚
2. æ—¥åŽ†å­˜åœ¨ç€é€‰å–æ“ä½œï¼Œé€‰å–çš„ç»“æžœæ˜¯  **æ—¶é—´ç‚¹**  è¿˜æ˜¯  **æ—¶é—´èŒƒå›´**  æ— æ³•é¢„çŸ¥ã€‚
3. æ—¥åŽ†æœ‰å¤šç§å±•çŽ°å½¢å¼ï¼Œæ˜¯ç›´æŽ¥ **æ–‡æ¡£æµæ˜¾ç¤º** è¿˜æ˜¯ **å¼¹å±‚æ˜¾ç¤º** æ— æ³•é¢„çŸ¥ã€‚

é’ˆå¯¹è¿™äº›ä¸ç¨³å®šå› ç´ ï¼ŒæŽ¥ä¸‹æ¥ï¼Œä¼šå¸¦ä½ ä¸€æ­¥æ­¥è§£å†³ã€‚


## äºŒã€æž„é€ å‡½æ•°çš„å‚æ•°è®¾è®¡
ç¡®å®šäº†æ—¥åŽ†çš„éœ€æ±‚ï¼Œå°±æ¥è®¾è®¡ä¸€ä¸‹æž„é€ å‡½æ•°çš„å‚æ•°å§~
### ç¬¬3ä¸ªé—®é¢˜ï¼šã€Žæ—¥åŽ†æœ‰å“ªäº›å¸¸è§çš„å±•çŽ°å½¢å¼ï¼Ÿã€
ä»ŽçŽ°åœ¨å¸‚é¢ä¸Šçš„å¸¸è§çš„appä¸Šçœ‹ï¼Œæˆ‘ä»¬ä¼šå‘çŽ°ï¼Œæ—¥åŽ†å¸¸è§çš„å±•çŽ°å½¢å¼æœ‰ä¸¤ç§ï¼š

1. **æ™®é€šæ–‡æ¡£æµå½¢å¼**
2. **å¼¹å±‚å½¢å¼**

åœ¨å‚æ•°çš„è®¾ç½®ä¸­ï¼Œè¡¨çŽ°ä¸ºè®¾ç½®**isMask**ï¼Œfalseï¼šæ™®é€šå½¢å¼ï¼Œtrueï¼šå¼¹å±‚å½¢å¼ã€‚

![](https://ohovav7hg.qnssl.com/Snip20170529_3.png)
 

### ç¬¬4ä¸ªé—®é¢˜ï¼šã€Žå‚æ•°è¦æ€Žä¹ˆçµæ´»å’Œé«˜æ•ˆåœ°è®¾ç½®ï¼Ÿã€
**1. è®©å¼€å‘äººå‘˜æ›´æ–¹ä¾¿åœ°å®šä½æ—¥æœŸ**
> â‘ ï¼šåœ¨ç¡®å®šæ—¶é—´èŒƒå›´çš„æ—¶å€™ï¼Œä½¿ç”¨ä¸€ä¸ª length ä¸º 3 çš„æ•°ç»„ï¼Œæ•°ç»„çš„æ¯ä¸€ä½åˆ†åˆ«å¯¹åº”ã€å¹´ã€‘ã€æœˆã€‘ã€æ—¥ã€‘
> æ¯”å¦‚`beginTime`ã€`endTime` å’Œ `recentTime`çš„è®¾å®š
> 
> â‘¡ï¼šåœ¨å¯¹ç‰¹å®šæ—¥æœŸæŒ‡å®šæ ·å¼æˆ–æ“ä½œçš„æ—¶å€™ï¼Œä½¿ç”¨è¯¥æ—¥æœŸçš„æ—¶é—´æˆ³ã€‚
> 
**æ¯”å¦‚è®¾ç½®`beforeRenderArr`çš„æ—¶å€™ï¼Œéœ€è¦ä¼ å…¥ä¸€ä¸ªç¬¦åˆè§„èŒƒçš„å¯¹è±¡æ•°ç»„**
> 
| å‚æ•° | ç±»åž‹  |  ä¸¾ä¾‹  | è¯´æ˜Ž | 
| -----| -----| -----| -----|
|  **stamp**  |  {Number} |eg:1514822400000| æŒ‡å®šä¸€ä¸ªç‰¹å®šçš„æ—¶é—´æˆ³ |
|**className**|{String}|eg: "enable"|æŒ‡å®šä¸€ä¸ªç”¨æˆ·è‡ªå·±è®¾ç½®çš„cssçš„ç±»å|


**2. çµæ´»æŽ§åˆ¶æ˜ŸæœŸçš„æŽ’åˆ—ã€æ˜ŸæœŸçš„æ˜¾ç¤ºæ ¼å¼ã€æœˆä»½çš„æ˜¾ç¤ºæ ¼å¼**
>  â‘ ï¼š`isSundayFirst` æŽ§åˆ¶æ˜ŸæœŸæ—¥æ˜¯å¦è¦æ”¾åœ¨ç¬¬ä¸€åˆ—ï¼Œtrueä¸ºæ˜ŸæœŸæ—¥æ”¾ç¬¬ä¸€åˆ—
> 
>  â‘¡ï¼š`isChinese` æŽ§åˆ¶æ˜ŸæœŸçš„æ˜¾ç¤ºæ–¹å¼ï¼Œtrueä¸ºæ˜¾ç¤ºä¸­æ–‡ï¼Œfalseä¸ºæ˜¾ç¤ºè‹±æ–‡
> 
>  â‘¢ï¼š`monthType` æŽ§åˆ¶æœˆä»½çš„æ˜¾ç¤ºæ ¼å¼ï¼Œä»¥ä¸€æœˆä»½ä¸ºä¾‹ï¼Œ0: 1æœˆ, 1: ä¸€æœˆ, 2:Jan, 3: January

**3. å¯¹æœ€é‡è¦çš„æ»‘åŠ¨æ‰‹åŠ¿åšä¸€äº›é…ç½®**
>  â‘ ï¼š`angle` æŽ§åˆ¶æ»‘åŠ¨çš„è§’åº¦ï¼Œé—´æŽ¥æŽ§åˆ¶çµæ•åº¦ï¼Œå»ºè®®å–å€¼èŒƒå›´5-20
> 
>  â‘¡ï¼š`isToggleBtn` æ˜¯å¦éœ€è¦å±•ç¤ºåˆ‡æ¢æŒ‰é’®, trueä¸ºéœ€è¦å±•ç¤º
> 
>  â‘¢ï¼š`canViewDisabled` æ˜¯å¦å¯ä»¥æŸ¥è¯¢ä¸åœ¨è§„å®šèŒƒå›´å†…çš„æœˆä»½ï¼Œtrueä¸ºå¯ä»¥æŸ¥è¯¢

**4. å¯ä¾›å¼€å‘è€…è‡ªå®šä¹‰çš„çµæ´»çš„å›žè°ƒå‡½æ•°**
>  â‘ ï¼š`success` ç‚¹å‡»æŸä¸ªæ—¥æœŸä¹‹åŽçš„å›žè°ƒï¼Œç”¨æˆ·è‡ªå®šä¹‰ç‚¹å‡»åŽçš„æ“ä½œã€‚è‡ªå¸¦å‚æ•°`(item, arr)`ã€‚`item`ä¸ºå½“å‰ç‚¹å‡»çš„æ—¶é—´æˆ³ï¼Œ`arr`ä¸ºæ™ºèƒ½åˆ¤æ–­åŽçš„è¿žç»­ä¸¤æ¬¡ç‚¹å‡»çš„ä¸¤ä¸ªæ—¶é—´æˆ³çš„æ•°ç»„
> 
>  â‘¡ï¼š`switchRender` åˆ‡æ¢æœˆä»½æ—¶çš„å›žè°ƒï¼Œç”¨æˆ·è‡ªå®šä¹‰åˆ‡æ¢åŽéœ€è¦è¿›è¡Œçš„æ“ä½œï¼Œå¦‚å‘èµ·è¯·æ±‚æ›´æ–°æ•°æ®ç­‰ã€‚è‡ªå¸¦å‚æ•°`(year, month, cal)`ã€‚`year`ä¸ºæ–°ç”Ÿæˆçš„å¹´ä»½ï¼Œ`month`ä¸ºæ–°ç”Ÿæˆçš„æœˆä»½(ä»Ž0å¼€å§‹),  `cal`æŒ‡å‘å½“å‰å®žä¾‹

##  ä¸‰ã€æš´éœ²åœ¨åŽŸåž‹ä¸Šçš„ã€å¯ä½¿ç”¨çš„api
|åç§°|ä¼ å…¥å‚æ•°çš„ç±»åž‹|ä½œç”¨|
|:--:|:---:|:---:|
|renderCallbackArr(arr)|{Array}|æ¸²æŸ“æŒ‡å®šçš„arrï¼Œarrçš„æ ¼å¼å’Œ`beforeRenderArr`çš„å¯¹è±¡æ•°ç»„çš„æ ¼å¼ä¸€æ ·|
|prevent()| - |åœ¨å¾®ä¿¡æµè§ˆå™¨ä¸­ï¼Œä½ å¯èƒ½éœ€è¦ç”¨åˆ°çš„é˜»æ­¢é»˜è®¤äº‹ä»¶çš„api|
|hideBackground()| - |åœ¨å¼¹å±‚æ¨¡å¼çš„`success`å›žè°ƒä¸­ï¼Œä½ å¯èƒ½éœ€è¦ç”¨åˆ°çš„å…³é—­å¼¹å±‚çš„api|

**é€‚å½“è§£é‡Šä¸€ä¸‹apiçš„ç”¨æ„ï¼š**
1. å‘`renderCallbackArr`ä¸­ä¼ å…¥ä¸€ä¸ªæ•°ç»„ï¼Œ*ï¼ˆæ•°ç»„æ ¼å¼å’Œ`beforeRenderArr`ä¸€æ ·ï¼Œä¸å†è¯´æ˜Žï¼‰*ï¼Œè¿™ä¸ªæ–¹æ³•èƒ½å¤Ÿå¾€ä½ éœ€è¦çš„æ—¶é—´ç‚¹ä¸Šæ·»åŠ æŒ‡å®šæ ·å¼ã€‚è®¾æƒ³ä¸€ç§åœºæ™¯ï¼š
     > **é€šè¿‡æ»‘åŠ¨åˆ‡æ¢ï¼ŒæŸ¥çœ‹ä¸‰ä¸ªæœˆå‰çš„æ‰“å¡æƒ…å†µï¼Œå·²æ‰“å¡å’Œæœªæ‰“å¡çš„æ—¥æœŸéƒ½æœ‰ä¸åŒçš„é«˜äº®æ ·å¼ã€‚**
    >
    > **æ˜¾ç„¶ï¼Œè¿™ä¸ªæœˆçš„æ‰“å¡æƒ…å†µæ˜¯éœ€è¦ä½ åœ¨`switchRender`å›žè°ƒä¸­å‘èµ·httpè¯·æ±‚åŽå¾—åˆ°ã€‚**
    >     
    > **åœ¨httpè¿”å›žç»“æžœåŽï¼Œæž„é€ ä¸€ä¸ªç¬¦åˆ`beforeRenderArr`æ ¼å¼çš„æ•°ç»„ï¼Œç„¶åŽè°ƒç”¨`renderCallbackArr`ï¼Œä¼ å…¥æž„é€ å¥½çš„æ•°ç»„ï¼Œå°±èƒ½å¯¹æŒ‡å®šçš„æ—¥æœŸæ¸²æŸ“æŒ‡å®šçš„classNameäº†ã€‚**

    ```js
    // ä¸¾ä¸ªæ —å­ðŸŒ°
    switchRender:  function(year, month,cal) {
    	console.log('è®¡ç®—æœºè¯†åˆ«çš„: å¹´ä»½: ' + year + ' æœˆä»½: ' + month);
    	$.ajax({
            url: 'xxxx',
            type: 'GET',
            data: {
                applyYear: year,
    	       applyMonth: (month + 1),
            },
            success: function(newArr) {
                cal.renderCallbackArr(newArr);            
            }  	
        })
    }
    ```

2. ä½¿ç”¨`prevent()`çš„åœºæ™¯åº”è¯¥ä¸ä¼šå¤ªå¤šã€‚ä¸»è¦æ˜¯ä¸ºäº†é˜»æ­¢å¾®ä¿¡æµè§ˆå™¨çš„é»˜è®¤æ»‘åŠ¨ã€‚
 ```js
// è¿™æ˜¯prevent æ–¹æ³•çš„æºç 
prevent: function (e) {
	   e.preventDefault();
},
```

3. ä½¿ç”¨`hideBackground()`çš„åœºæ™¯ä¸€èˆ¬æ˜¯åœ¨å¼¹å±‚æ¨¡å¼çš„`success`å›žè°ƒä¸­ã€‚è®¾æƒ³ä¸€ç§åœºæ™¯ï¼š
 >  **è§¦å‘äº†æ—¥åŽ†å¼¹å±‚ä¹‹åŽï¼Œå¦‚æžœä½ åªæƒ³ã€é€‰æ‹©ä¸€ä¸ªæ—¶é—´ç‚¹ã€‘ï¼Œé‚£ä¹ˆç‚¹å‡»æŸä¸ªæ—¥æœŸä¹‹åŽå°±å¯ä»¥ç›´æŽ¥è°ƒç”¨`hideBackground()`æ”¶èµ·å¼¹å±‚ã€‚**
 > 
> **å¦‚æžœä½ æƒ³ã€é€‰æ‹©æŸä¸ªæ—¶é—´åŒºé—´ã€‘ï¼Œé‚£ä¹ˆå¯ä»¥åœ¨ç¬¬äºŒä¸ªæ—¶é—´ç‚¹ç¡®å®šä¹‹åŽå†è°ƒç”¨`hideBackground()`æ”¶èµ·å¼¹å±‚ã€‚å½“ç„¶ï¼Œä¹Ÿå¯ä»¥ä¸æ”¶èµ·å¼¹å±‚ã€‚**

##  å››ã€å¦‚ä½•åˆ©ç”¨äº”ä¸ªDOMåšåˆ°æ— é™æ»‘åŠ¨
å…¶å®žæˆ‘åœ¨å†™ç¬¬ä¸€ä¸ªç‰ˆæœ¬çš„æ—¥åŽ†çš„æ—¶å€™ï¼Œé‡‡å–çš„è§£å†³åŠžæ³•æ˜¯å½“æ–°çš„æœˆä»½äº§ç”Ÿä¹‹åŽï¼Œå¾€bodyä¸­ä¸æ–­append domã€‚ä¸è¿‡å½“æ—¶çš„ä¸šåŠ¡çš„åœºæ™¯æ¯”è¾ƒç®€å•ï¼Œæ’‘æ­»ä¹Ÿåªæœ‰10ä¸ªæœˆã€‚ä½†æ˜¯æ˜¾ç„¶å¦‚æžœæœ‰100ä¸ªæœˆï¼Œæˆ‘è¿™æ ·çš„åšæ³•æ˜Žæ˜¾ä¸è¡Œã€‚

**æ‰€ä»¥å¿…é¡»è¦è®©domå¯ä»¥å¤ç”¨ï¼Œå®žçŽ°æ— é™æ»‘åŠ¨**

### æ€è€ƒç¬¬5ä¸ªé—®é¢˜ï¼šã€Žæ— é™æ»‘åŠ¨çš„è¯è‡³å°‘éœ€è¦å‡ ä¸ªdomå‘¢ï¼Ÿã€

**é¦–å…ˆæ˜Žç¡®ï¼Œè¿™é‡ŒæŒ‡çš„ä¸€ä¸ªdomå°±æ˜¯ä¸€ä¸ªæœˆä»½ï¼Œæ¯æ¬¡åˆ‡æ¢æœˆä»½å°±æ˜¯åˆ‡æ¢åŒ…è£¹ç€æœˆä»½çš„dom**

å¦‚ä¸‹å›¾ï¼Œå‡è®¾å½“å‰æœˆä»½ä¸ºã€2017å¹´9æœˆã€‘ï¼Œç”±äºŽæ»‘åŠ¨æ˜¯å®žæ—¶çš„ï¼Œå½“æˆ‘çš„æ‰‹æŒ‡ä»Žå³å‘å·¦æ»‘çš„è¿‡ç¨‹ï¼Œã€2017å¹´10æœˆã€‘ä¹Ÿä¼šæ¸æ¸çš„éœ²å‡ºæ¥ä¸€äº›ï¼Œ**è€ƒè™‘ä¸€ç§ç‰¹æ®Šæƒ…å†µ**ï¼š

> **ä»¥æ‰“å¡ä¸ºä¾‹ï¼Œ2017å¹´10æœˆæ˜¯æœ‰æ‰“å¡è®°å½•çš„ï¼Œå¦‚æžœç­‰ä½¿ç”¨è€…æ¾å¼€æ‰‹æŒ‡ï¼Œåœåœ¨2017å¹´10æœˆçš„æ—¶å€™çªç„¶é—ªçŽ°å‡ºæ‰“å¡è®°å½•çš„é«˜äº®æ ·å¼ï¼Œä¼šç»™ä½¿ç”¨è€…å¾ˆä¸èˆ’é€‚çš„æ„Ÿè§‰ã€‚**
> 
> **ä¸ºé¿å…è¿™ç§æƒ…å†µï¼Œå°±éœ€è¦åœ¨å½“å‰æœˆä»½ä¸ºã€2017å¹´9æœˆã€‘çš„æ—¶å€™ï¼Œå°±å·²ç»æ¸²æŸ“å¥½ã€2017å¹´10æœˆã€‘çš„é«˜äº®æ ·å¼äº†ï¼Œå·¦è¾¹çš„ã€2017å¹´8æœˆã€‘ä¹Ÿæ˜¯åŒç†ï¼Œæ‰€ä»¥è‡³å°‘å¿…é¡»è¦æ¸²æŸ“å‡ºå®Œæ•´çš„ã€å¸¦æœ‰æ•°æ®é«˜äº®çš„ä¸‰ä¸ªæœˆ**

![](https://ohovav7hg.qnssl.com/calendar-touchmove.gif)

æ‰€ä»¥æˆ‘ä»¬å¾—åˆ°äº†ç»“è®ºï¼Œ**æœˆä»½çš„domè‡³å°‘ä¸º3ä¸ªï¼Œå¹¶ä¸”è¿™ä¸‰ä¸ªdomæ˜¯å·²ç»è¿žé«˜äº®æ ·å¼éƒ½æ¸²æŸ“å¥½ï¼Œä¸ä¼šåœ¨å®žæ—¶æ»‘åŠ¨ç»“æŸåŽæœ‰ä»»ä½•å˜åŠ¨çš„ã€‚**

ä½†æ˜¯ä¸ºä»€ä¹ˆæœ€åŽæ˜¯è¦ç”¨5ä¸ªdomæ¥å®žçŽ°æ— é™æ»‘åŠ¨å‘¢ï¼Ÿ

å‚è€ƒä¸€ä¸‹swiperçš„æ•ˆæžœï¼Œä¸ºäº†èƒ½è®©è¿™ä¸‰ä¸ªdomä¸¤è¾¹çš„æžç«¯domä¹Ÿèƒ½å¤Ÿæ­£å¸¸çš„å®žæ—¶æ»‘åŠ¨ã€‚æ‰€ä»¥åœ¨å¤´å°¾åˆ†åˆ«åŠ ä¸€ä¸ªdomï¼Œæ‰€ä»¥**ä¸€å…±éœ€è¦5ä¸ªdomæ¥å®žçŽ°æ— é™æ»‘åŠ¨**ã€‚

å¦‚ä¸‹å›¾ï¼Œç»¿è‰²çº¿æ¡†çš„éƒ¨åˆ†ä¸ºæœ€åˆå¼€å§‹åˆ†æžçš„3ä¸ªdomã€‚

![](https://ohovav7hg.qnssl.com/2017-06-01-16-09-17.jpg)

### æ€è€ƒç¬¬6ä¸ªé—®é¢˜ï¼šã€Žå¤´å°¾ä¸¤ä¸ªä½œä¸ºå¡«å……çš„domè¦æ˜¾ç¤ºå“ªä¸ªæœˆå‘¢ï¼Ÿã€

ç›´æŽ¥å‚è€ƒä¸€ä¸‹swiperçš„æ•ˆæžœå°±èƒ½å¤Ÿå¾—åˆ°ç­”æ¡ˆï¼Œæˆ‘çŽ°åœ¨ä¸¾ä¸€ä¸ªå®žä¾‹æ¥åšä¸€äº›è¯´æ˜Žï¼š
å…ˆè€ƒè™‘ä»¥ä¸‹æƒ…å†µï¼š
> æ‰‹åŠ¿æ“ä½œï¼šè¿žç»­ä»Žå³å‘å·¦æ»‘
> æ“ä½œç»“æžœï¼šè¿žç»­æŸ¥çœ‹ä¸‹ä¸ªæœˆ

ä»¥ä¸‹æ˜¯å›¾ä¾‹ï¼Œçº¢è‰²ç®­å¤´çš„æ›´æ–°æ“ä½œï¼š
![](https://ohovav7hg.qnssl.com/2017-06-01-16-32-17.jpg)

**ä»¥å½“å‰è¿›å…¥é¡µé¢çš„åˆå§‹æœˆä»½æ˜¯2017å¹´9æœˆä¸ºä¾‹ï¼š**
**åˆå§‹çŠ¶æ€ï¼š**
![](https://ohovav7hg.qnssl.com/2017-06-01-16-53-50.jpg)

ç´«è‰²çš„æ•°å­—æ˜¯ä»£è¡¨æœˆä»½domçš„ä¸‹æ ‡ï¼Œ**ç›¸åŒä¸‹æ ‡å¯¹åº”çš„æœˆä»½ä¹Ÿç›¸åŒ**ã€‚
ä¸­é—´çš„**1ã€2ã€3**å¯¹åº”çš„æ˜¯ä¹‹å‰è¯´è¿‡çš„ -----ã€è‡³å°‘è¦æå‰æ¸²æŸ“å¥½3ä¸ªæœˆä»½çš„domã€‘ã€‚
é‚£é¦–å°¾å¡«å……çš„æœˆä»½ä¸ºä»€ä¹ˆæ˜¯** 3 **å’Œ** 1 **å‘¢ï¼Ÿ
å‡è®¾æˆ‘ä»¬çŽ°åœ¨ä¸é™åˆ¶5ä¸ªdomï¼Œè€Œæ˜¯æ— é™ä¸ªdomï¼Œé‚£ä¹ˆä»£è¡¨æœˆä»½domçš„ä¸‹æ ‡ç»„åˆå°±ä¼šæ˜¯ï¼š
**1ã€2ã€3ã€1ã€2ã€3ã€1ã€2ã€3ã€1ã€2ã€3......**
æˆ‘ä»¬ä»¥ä¸€ä¸ª**1ã€2ã€3**ä¸ºä¸­å¿ƒï¼Œå–åˆ°è¿žç»­çš„5ä¸ªæœˆä»½domï¼Œé‚£ä¹ˆå–åˆ°çš„ä¸‹æ ‡ç»„åˆå°±æ˜¯ï¼š
**1ã€2ã€ã€3ã€1ã€2ã€3ã€1ã€‘ã€2ã€3ã€1ã€2ã€3......**

æ²¡æ‡‚æ²¡å…³ç³»ï¼Œçœ‹ä¸‹åŽ»å°±ä¼šæ˜Žç™½ã€‚

### æ€è€ƒç¬¬7ä¸ªé—®é¢˜ï¼šã€Žä¸ºäº†é…åˆæ— é™æ»‘åŠ¨ï¼Œè¦æ€Žä¹ˆæŽ§åˆ¶æ˜¾ç¤ºçš„æœˆä»½å‘¢ï¼Ÿã€

å®žé™…ä¸Šï¼Œæœªæ¥ï¼Œæˆ‘ä¼šéœ€è¦å–åˆ°domçš„ä¸‹æ ‡è¿›è¡Œæ›´æ–°æœˆä»½æ•°æ®çš„æ“ä½œï¼Œæ‰€ä»¥æˆ‘è¯•å›¾å‘çŽ°ã€3ã€1ã€2ã€3ã€1ã€‘è¿™ä¸ªä¸‹æ ‡æ•°ç»„ä¸­çš„è§„å¾‹ã€‚
æˆ‘å‘çŽ°è¿™ä¸ªä¸‹æ ‡å¾ªçŽ¯æ˜¯3çš„å¾ªçŽ¯ï¼Œæˆ‘å¯ä»¥é€šè¿‡å–3çš„æ¨¡çš„æ–¹å¼å–åˆ°æ¯ä¸ªä½ç½®ä¸Šçš„domä¸‹æ ‡ã€‚
çŽ°åœ¨æˆ‘è¦å¯¹è¿™ä¸ªä¸‹æ ‡åšä¸€ç‚¹å°çš„æ”¹åŠ¨ã€‚
**æˆ‘è¦æŠŠ3æ”¹æˆ0ã€‚å³ã€0ã€1ã€2ã€0ã€1ã€‘**
åŽŸå› å¾ˆç®€å•ï¼Œæ˜¯ä¸ºäº†åœ¨è®¡ç®—æ»‘åŠ¨è·ç¦»çš„æ—¶å€™ï¼Œå°†  **domä¸‹æ ‡** å’Œ **translateX ** å¯¹åº”èµ·æ¥æ¯”è¾ƒæ–¹ä¾¿ã€‚å³å½“æ»‘åˆ°æœ€å·¦ä¾§çš„æœˆä»½domçš„æ—¶å€™ï¼Œæœˆä»½çš„domçš„`translateX`çš„å€¼ä¸º0ï¼Œå¯ä»¥å’Œä¸‹æ ‡ **0 % 3** çš„ç»“æžœç›¸å¯¹åº”ã€‚
**è¿™æ ·ï¼Œè¿™ä¸ªä¸‹æ ‡ï¼Œå°±å’Œ`translateX`ç›´æŽ¥è”ç³»èµ·æ¥äº†ã€‚**

å¥½ï¼Œä»¥åˆå§‹æœˆä»½æ˜¯2017å¹´9æœˆä¸ºä¾‹ï¼Œæœ€ç»ˆåˆå§‹åŒ–çš„ç»“æžœä¸ºï¼š

![](https://ohovav7hg.qnssl.com/2017-06-01-17-30-39.jpg)

æŽ¥ä¸‹æ¥ï¼Œä»Žå³å‘å·¦æ»‘ï¼ŒæŸ¥çœ‹ä¸‹ä¸€ä¸ªæœˆä»½ï¼Œ`touchend`ä¹‹åŽï¼Œæ“ä½œå¦‚ä¸‹ï¼š

![](https://ohovav7hg.qnssl.com/2017-06-01-17-40-39.jpg)
å½“æ»‘åˆ°äº†æœ€å³è¾¹çš„æœˆä»½çš„domçš„æ—¶å€™ï¼ˆ**å…¶å®žåªè¦æ»‘åˆ°è¾¹ç•Œéƒ½åšä¸€æ ·çš„å¤„ç†**ï¼‰ï¼Œåœ¨`touchstart`ä¸­æ‰§è¡Œä¸€ä¸ªç‰¹æ®Šæ“ä½œï¼š
å°±æ˜¯åœ¨touchstartçš„æ—¶å€™ï¼Œçž¬é—´`translate3d`åˆ°å’Œå®ƒdomä¸‹æ ‡ä¸€æ ·çš„æœˆä»½åŽ»ï¼š
æ¯”å¦‚ä¸Šé¢ã€2017.11ã€‘å·²ç»åˆ°æœ€å³è¾¹çš„ï¼Œé‚£åœ¨æˆ‘ä¸‹æ¬¡æ»‘åŠ¨çš„`touchstart`çš„æ—¶å€™å®šä½åˆ°ä¸‹å›¾çš„ä½ç½®ä¸­ï¼š
![](https://ohovav7hg.qnssl.com/2017-06-01-17-49-24.jpg)

**è¿™å°±æ˜¯å®žçŽ°æ— é™æ»‘åŠ¨çš„æ ¸å¿ƒåŽŸç†**ã€‚å½“ç„¶è¿˜å¯ä»¥æŽ¥ç€ä¸€ç›´æ»‘ï¼š
![](https://ohovav7hg.qnssl.com/2017-06-01-17-50-44.jpg)
ä»¥æ­¤ç±»æŽ¨ï¼Œ**æ— é™å·¦æ»‘ä¹Ÿæ˜¯ç±»ä¼¼çš„é“ç†ã€‚**

##  äº”ã€ä¸ºä»€ä¹ˆéœ€è¦é¢„åˆ¤ç”¨æˆ·æ‰‹åŠ¿
ä»Žä¸Šé¢è®²è¿°æ— é™æ»‘åŠ¨çš„åŽŸç†ä¸­ï¼Œä½ å¯ä»¥å¤§æ¦‚æ„Ÿè§‰åˆ°ï¼š **æ»‘åŠ¨çš„è·ç¦»æ˜¯é€šè¿‡æŽ§åˆ¶ä¸­é—´çš„ç°è‰²çŸ©å½¢ç›¸å¯¹äºŽæ‰‹æœºå±å¹•çš„`translateX`æ¥å†³å®šçš„ã€‚**

å¦‚ä½•æŽ§åˆ¶`translateX`çš„å€¼å®žçŽ°æ»‘åŠ¨æ•ˆæžœï¼Œè¿™ä¸ªé—®é¢˜ä¸æ˜¯è¿™æ¬¡çš„é‡ç‚¹ã€‚

### é‡ç‚¹æ˜¯ï¼Œæ€è€ƒç¬¬8ä¸ªé—®é¢˜ï¼šã€Žå¦‚æžœåªåœ¨æ—¥åŽ†çš„domåŒºåŸŸä¸­æŽ§åˆ¶translateXï¼Œå½“æˆ‘æƒ³æ»‘åŠ¨æ•´ä¸ªé¡µé¢çš„æ—¶å€™ï¼Œæ»‘ä¸åŠ¨ï¼Œæ€Žä¹ˆåŠžï¼Ÿã€

å‡è®¾ä¸‹å›¾ä¸­çš„è“è‰²æ›²çº¿ä»£è¡¨ç”¨æˆ·çš„æ»‘åŠ¨æ›²çº¿ï¼š
> å½“ç”¨æˆ·çš„æ»‘åŠ¨æ›²çº¿æ˜¯Açš„æƒ…å†µæ—¶ï¼Œç”¨æˆ·çš„æ„å›¾æ˜Žæ˜¾æ˜¯æƒ³æŠŠé¡µé¢å¾€ä¸Šæ‹‰
> å½“ç”¨æˆ·çš„æ»‘åŠ¨æ›²çº¿æ˜¯Bçš„æƒ…å†µæ—¶ï¼Œç”¨æˆ·çš„æ„å›¾æ˜Žæ˜¾æ˜¯æƒ³æŸ¥çœ‹ä¸Šä¸€ä¸ªæœˆ

**å¯å®žé™…ä¸Šï¼Œå¦‚æžœåªé€šè¿‡æŽ§åˆ¶`translateX`çš„å€¼å®žçŽ°æ»‘åŠ¨æ•ˆæžœçš„æ—¶å€™ï¼Œæ— è®ºæ˜¯æ›²çº¿Aæˆ–è€…Béƒ½ä¼šè¢«è®¤ä¸ºæ˜¯æƒ³æŸ¥çœ‹ä¸Šä¸€ä¸ªæœˆ**

![](https://ohovav7hg.qnssl.com/2017-06-01-20-06-39.jpg)

ä¹Ÿå°±æ˜¯è¯´ï¼Œ**å¦‚æžœæŽ§åˆ¶äº†`translateX`ï¼Œé‚£ä¹ˆï¼Œåœ¨è¿™ä¸ªå æ®ç€æ–‡æ¡£æµå·¨å¤§çš„é¢ç§¯çš„domèŒƒå›´å†…ï¼Œæ°¸è¿œæ— æ³•ä¸Šä¸‹æ»‘åŠ¨ã€‚è¿™æ˜¯ä¸‡ä¸‡ä¸è¢«å…è®¸çš„ã€‚**

æ‰€ä»¥æˆ‘ä»¬éœ€è¦é¢„åˆ¤æ‰‹åŠ¿ï¼Œæ¥å®žçŽ°åœ¨æ—¥åŽ†çš„domèŒƒå›´å†…ï¼Œ**æ—¢èƒ½å¤Ÿä¸Šä¸‹æ»‘åŠ¨ï¼Œåˆèƒ½å¤Ÿå·¦å³æ»‘åŠ¨**ã€‚æ•ˆæžœå¦‚ä¸‹ï¼š
![](https://ohovav7hg.qnssl.com/calendar-scroll.gif)

### æ€è€ƒç¬¬9ä¸ªé—®é¢˜ï¼šã€Žæ˜¯å¦æœ‰ç®€å•çš„æ–¹å¼èƒ½å¤Ÿé¢„åˆ¤æ‰‹åŠ¿ï¼Ÿã€
æ¯”å¦‚ä¹‹å‰æåˆ°çš„ã€æ»‘åŠ¨æ›²çº¿Aå’ŒBã€‘çš„ç¤ºä¾‹å›¾ï¼Œå¦‚æžœä»¥ç»¿çº¿ä¸ºæ ‡å‡†ï¼Œ
1. æ–œçŽ‡å°äºŽç»¿çº¿çš„æ›²çº¿ï¼Œéƒ½å½’ä¸ºå’Œæ»‘åŠ¨æ›²çº¿Bä¸€æ ·çš„å·¦å³æ»‘åŠ¨
2. æ–œçŽ‡å¤§äºŽç»¿çº¿çš„æ›²çº¿ï¼Œéƒ½å½’ä¸ºå’Œæ»‘åŠ¨æ›²çº¿Aä¸€æ ·çš„ä¸Šä¸‹æ»‘åŠ¨

è¿™æ ·ä¸å°±å¯ä»¥äº†å—ï¼Ÿ
ä½†å…¶å®žç”¨æˆ·çš„æ‰‹åŠ¿æ›²çº¿ä¸€èˆ¬éƒ½æ˜¯ä¸‹é¢çš„æ©™è‰²æ›²çº¿....

![](https://ohovav7hg.qnssl.com/2017-06-01-20-47-40.jpg)

è€Œä¸”è®¡ç®—ç”¨æˆ·æ‰‹åŠ¿çš„æ–œçŽ‡ä¸€å®šæ˜¯åœ¨`touchmove`ä¸­å®žæ—¶è®¡ç®—ï¼ˆä¸ºä»€ä¹ˆï¼Ÿå½“ç„¶æ˜¯ä¸ºäº†å®žæ—¶æ»‘åŠ¨ï¼‰ï¼Œæ‰€ä»¥æœ€åŽï¼Œé æ–œçŽ‡é¢„åˆ¤ç”¨æˆ·æ‰‹åŠ¿çš„æ€è·¯ï¼Œå°±åˆ°è¿™é‡Œç»“æŸäº†ã€‚

##  å…­ã€å¦‚ä½•åˆ©ç”¨å¾®ç§¯åˆ†é¢„åˆ¤ç”¨æˆ·æ‰‹åŠ¿
### æ€è€ƒç¬¬10ä¸ªé—®é¢˜ï¼šã€Žå¯¹ç”¨æˆ·æ‰‹åŠ¿è¿›è¡Œç§¯åˆ†ï¼Œå°±èƒ½å¤Ÿè§£å†³é—®é¢˜å—ï¼Ÿã€
ç”¨æˆ·çš„æ‰‹åŠ¿å®žé™…ä¸Šæ˜¯ä¸€æ¡å¼§çº¿ï¼Œå½“å‰åªè€ƒè™‘ä»Žå·¦ä¸‹è§’å‘å³ä¸Šè§’æ»‘çš„æƒ…å†µï¼Œå°±èƒ½æŠŠç”¨æˆ·çš„æ‰‹åŠ¿æ›²çº¿ç®€åŒ–åœ¨ç¬¬ä¸€è±¡é™ä¸­ã€‚
å¦‚ä¸‹å›¾ï¼Œæˆ‘ä»¬ä»Žå¾®ç§¯åˆ†çš„æ¦‚å¿µå‡ºå‘ï¼Œå¾—åˆ°ä»¥ä¸‹ç»“è®ºã€‚

![](https://ohovav7hg.qnssl.com/2017-06-01-21-19-31.jpg)

å…ˆçœ‹çœ‹ä¸­é—´çš„çº¢è‰²çŸ©å½¢éƒ¨åˆ†ï¼Œè¿™ä¸ªçº¢è‰²çŸ©å½¢æ˜¯æŠŠæŸä¸ªç»†é•¿æ¡çŸ©å½¢å¤¸å¼ çš„æ”¾å¤§åŽçš„çŸ©å½¢ï¼Œå…¶å®½ä¸ºâ–³Xï¼Œå…¶é«˜ä¸ºâ–³Yã€‚
é€šè¿‡`touchmove`å®žæ—¶è®¡ç®—æ¯ä¸€æ¬¡æ»‘åŠ¨çš„â–³X å’Œ â–³Yï¼Œç„¶åŽç´¯åŠ é¢ç§¯ã€‚é¢ç§¯çš„ç´¯åŠ å®žé™…ä¸Šç›´æŽ¥æŒ‰ç…§`â–³X  Ã— â–³Y`çš„ç»“æžœæ­£è´Ÿè¿›è¡Œç´¯åŠ ï¼Œè¿™æ ·å°±æŠŠç¬¬ä¸€è±¡é™çš„æ‰‹åŠ¿æŽ¨å¹¿åˆ°æ‰€æœ‰è±¡é™çš„æ‰‹åŠ¿ä¸­åŽ»äº†ã€‚

è®¡ç®—æ‰‹åŠ¿çš„æ ¸å¿ƒä»£ç å¦‚ä¸‹ï¼Œå…¶ä¸­calæŒ‡å‘å½“å‰å®žä¾‹ï¼š
![](https://ohovav7hg.qnssl.com/2017-06-02-08-55-40.jpg)

æˆ‘ä»¬å¯ä»¥åˆ©ç”¨ç”¨æˆ·æ‰‹åŠ¿çš„æ›²çº¿é¢ç§¯æ¥æŠŠç”¨æˆ·æ‰‹åŠ¿æ“ä½œé‡åŒ–ã€‚
ä½†é‡åŒ–æ˜¯é‡åŒ–äº†ï¼Œè¦å¦‚ä½•çŸ¥é“æˆ‘é‡åŒ–çš„ç»“æžœæ˜¯ä¸Šä¸‹æ»‘åŠ¨è¿˜æ˜¯å·¦å³æ»‘åŠ¨å‘¢ï¼Ÿ
æ‰€ä»¥å°±éœ€è¦åƒè®¡ç®—æ–œçŽ‡æ—¶çš„æ ‡å‡†çº¿ï¼ˆé‚£æ¡ç»¿çº¿ï¼‰ä¸€æ ·ï¼Œå¿…é¡»æœ‰ä¸€ä¸ªæ ‡å‡†é¢ç§¯ã€‚

### æ€è€ƒç¬¬11ä¸ªé—®é¢˜ï¼šã€Žå¦‚ä½•è®¡ç®—æ ‡å‡†é¢ç§¯ï¼Ÿã€
å¦‚ä¸‹å›¾ï¼Œæˆ‘ä»¬æœ‰ä¸‰æ¡æ›²çº¿ï¼Œè¿™ä¸‰æ¡æ›²çº¿ä¸ŽXè½´å›´èµ·æ¥çš„é¢ç§¯ï¼Œå°±æ˜¯æˆ‘ä»¬å‰é¢è¾›è¾›è‹¦è‹¦é‡åŒ–çš„ç»“æžœã€‚å…¶ä¸­:
> è“è‰²çš„æ›²çº¿å›´æˆçš„é¢ç§¯å°±æ˜¯æˆ‘ä»¬ç†æƒ³ä¸­çš„æ ‡å‡†é¢ç§¯ï¼Œè™½ç„¶è¿˜ä¸çŸ¥é“æ€Žä¹ˆç®—
>
> é»„è‰²çš„æ›²çº¿å›´æˆçš„é¢ç§¯æ¯”æ ‡å‡†é¢ç§¯å¤§ï¼Œæˆ‘ä»¬å°†åˆ¤å®šæ‰€æœ‰**å¤§äºŽ**è“è‰²æ›²çº¿çš„é‡åŒ–æ›²çº¿ä¸ºã€ç”¨æˆ·è¯•å›¾ä¸Šä¸‹æ»‘åŠ¨ã€‘
> 
> ç»¿è‰²çš„æ›²çº¿å›´æˆçš„é¢ç§¯æ¯”æ ‡å‡†é¢ç§¯å°ï¼Œæˆ‘ä»¬å°†åˆ¤å®šæ‰€æœ‰**å°äºŽ**è“è‰²æ›²çº¿çš„é‡åŒ–æ›²çº¿ä¸ºã€ç”¨æˆ·è¯•å›¾å·¦å³æ»‘åŠ¨ã€‘

![](https://ohovav7hg.qnssl.com/2017-06-02-09-17-25.jpg)

é—®é¢˜å›žåˆ°äº†ï¼Œ**å¦‚ä½•è®¡ç®—æ ‡å‡†é¢ç§¯**ï¼Ÿ
è§‚å¯Ÿä¸Šå›¾å¯ä»¥å‘çŽ°æœ‰ä¸€ä¸ªæ˜Žæ˜¾çš„è“è‰²çš„**è§’A**ï¼Œè¿™ä¸ª**è§’A**å’Œå®žä¾‹åŒ–çš„å‚æ•°**angle**æ˜¯åŒä¸€ä¸ªä¸œè¥¿ã€‚
å¼€å‘è€…å¯ä»¥é€šè¿‡æŽ§åˆ¶angleçš„å€¼ï¼ˆ**angleçš„å•ä½æ˜¯Â°**ï¼‰æ¥æŽ§åˆ¶æ ‡å‡†é¢ç§¯çš„å¤§å°ã€‚
å½“ç„¶é€šè¿‡æˆ‘çš„æµ‹è¯•ï¼Œangleçš„å–å€¼åœ¨ [5 , 20]æœ€ä½³ã€‚

**é‚£æºç ä¸­æ˜¯å¦‚ä½•é€šè¿‡å¼€å‘è€…ä¼ å…¥çš„angleè¿›è¡Œæ ‡å‡†é¢ç§¯çš„è®¡ç®—çš„å‘¢ï¼Ÿ**

é¦–å…ˆï¼Œæˆ‘ä¼šå°†ç”¨æˆ·çš„è§’åº¦è½¬åŒ–ä¸ºtanå€¼ã€‚
![](https://ohovav7hg.qnssl.com/2017-06-02-09-25-33.jpg)

ä¸ºä»€ä¹ˆéœ€è¦tanå€¼å‘¢ï¼Œå› ä¸ºæˆ‘å°±å¯ä»¥æ ¹æ®`â–³X` è®¡ç®—å¾—åˆ° `â–³Y = â–³X * tanA`ã€‚
![](https://ohovav7hg.qnssl.com/2017-06-02-09-48-10.jpg)

æ‰€ä»¥æ ‡å‡†é¢ç§¯ä¹Ÿèƒ½é€šè¿‡ç´¯åŠ å¾—åˆ°äº†ã€‚
![](https://ohovav7hg.qnssl.com/2017-06-02-09-49-22.jpg)


è‡³æ­¤ï¼Œæˆ‘ä»¬å°±å¯ä»¥é€šè¿‡ç”¨æˆ·æ‰‹åŠ¿çš„é¢ç§¯å’Œæ ‡å‡†é¢ç§¯çš„æ¯”è¾ƒæ¥å¾—åˆ°ä¸€ä¸ªæ¯”è¾ƒç†æƒ³çš„é¢„åˆ¤ã€‚
é€šè¿‡é¢„åˆ¤ï¼Œè®©ç”¨æˆ·åœ¨é¡µé¢çš„ä»»ä½•åœ°æ–¹æ»‘åŠ¨ï¼Œéƒ½æ„Ÿåˆ°èˆ’é€‚ã€‚


##  é¢„çŸ¥åŽè¯
> Githubåœ°å€:[ã€Žä¸ºç§»åŠ¨ç«¯è€Œç”Ÿã€çš„è‡ªå®šä¹‰æ—¥åŽ†æ’ä»¶ https://github.com/AppianZ/calendar](https://github.com/AppianZ/calendar)
> 
> æˆ‘æ˜¯å˜‰å®Appianï¼Œä¸€ä¸ªå–èŒå‡ºå®¶çš„ç®—æ³•å¦¹çº¸ã€‚















> 